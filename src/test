% tworzenie struktóry monitora:
M0S0P = pollution:createMonitor(). % wynik: []
M1S0P = pollution:addStation(M0S0P, "Aleja Słowackiego", {50.2345, 18.3445}).
M2S0P = pollution:addStation(M1S0P,"Nowa",{10,10}).
M3S0P = pollution:addStation(M2S0P,"Trzecia",{0,10}).
M4S0P = pollution:addStation(M3S0P,"Czwarta",{20,10}).
% dodanie pomiarów do pierwszej stacji
M4S1P = pollution:addValue(M4S0P, {50.2345, 18.3445}, {{2020,3,29},{24,0,0}},"PM10", 59).
M4S2P = pollution:addValue(M4S1P, "Aleja Słowackiego", {{2020,3,29},{24,0,0}}, "PM2,5", 113).
M4S3P = pollution:addValue(M4S2P, {50.2345, 18.3445}, {{2020,3,30},{12,0,0}},"PM10", 70).
M4S4P = pollution:addValue(M4S3P, "Aleja Słowackiego", {{2020,3,30},{12,0,0}}, "PM2,5", 150).
M4S5P = pollution:addValue(M4S4P, {50.2345, 18.3445}, {{2020,3,30},{24,0,0}},"PM10", 61).
M4S6P = pollution:addValue(M4S5P, "Aleja Słowackiego", {{2020,3,30},{24,0,0}}, "PM2,5", 120).
% dodanie pomiarów do drugiej stacji
M4S7P = pollution:addValue(M4S6P, {10, 10}, {{2020,3,29},{24,0,0}},"PM10", 55).
M4S8P = pollution:addValue(M4S7P, "Nowa", {{2020,3,29},{24,0,0}}, "PM2,5", 117).
M4S9P = pollution:addValue(M4S8P, {10, 10}, {{2020,3,30},{12,0,0}},"PM10", 65).
M4S10P = pollution:addValue(M4S9P, "Nowa", {{2020,3,30},{12,0,0}}, "PM2,5", 145).
M4S11P = pollution:addValue(M4S10P, "Nowa", {{2020,3,30},{24,0,0}},"PM10", 59).
M4S12P = pollution:addValue(M4S11P, {10,10}, {{2020,3,30},{24,0,0}}, "PM2,5", 121).
% dodanie pomiarów do trzeciej stacji
M4S13P = pollution:addValue(M4S12P, "Trzecia", {{2020,3,29},{24,0,0}},"PM10", 50).
M4S14P = pollution:addValue(M4S13P, {0,10}, {{2020,3,29},{24,0,0}}, "PM2,5", 110).
M4S15P = pollution:addValue(M4S14P, {0,10}, {{2020,3,30},{12,0,0}},"PM10", 78).
M4S16P = pollution:addValue(M4S15P, "Trzecia", {{2020,3,30},{12,0,0}}, "PM2,5", 90).
M4S17P = pollution:addValue(M4S16P, "Trzecia", {{2020,3,30},{24,0,0}},"PM10", 45).
M4S18P = pollution:addValue(M4S17P, {0,10}, {{2020,3,30},{24,0,0}}, "PM2,5", 120).
% dodanie pomiarów do czwartej stacji
M4S19P = pollution:addValue(M4S18P, {20,10}, {{2020,3,29},{24,0,0}},"PM10", 49).
M4S20P = pollution:addValue(M4S19P, "Czwarta", {{2020,3,29},{24,0,0}}, "PM2,5", 130).
M4S21P = pollution:addValue(M4S20P, {20,10}, {{2020,3,30},{12,0,0}},"PM10", 67).
M4S22P = pollution:addValue(M4S21P, "Czwarta", {{2020,3,30},{12,0,0}}, "PM2,5", 105).
M4S23P = pollution:addValue(M4S22P, {20,10}, {{2020,3,30},{24,0,0}},"PM10", 61).
M4S24P = pollution:addValue(M4S23P, "Czwarta", {{2020,3,30},{24,0,0}}, "PM2,5", 102).
% sprawdzenie zapisów
pollution:getOneValue(M4S24P, {50.2345, 18.3445}, {{2020,3,30},{12,0,0}}, "PM2,5"). % wynik 150
pollution:getOneValue(M4S24P, "Aleja Słowackiego", {{2020,3,30},{24,0,0}}, "PM10"). % wynik 61
pollution:getOneValue(M4S24P, {10,10}, {{2020,3,29},{24,0,0}}, "PM2,5"). % wynik 117
pollution:getOneValue(M4S24P, "Nowa", {{2020,3,30},{24,0,0}}, "PM10"). % wynik 59
pollution:getOneValue(M4S24P, {0,10}, {{2020,3,29},{24,0,0}}, "PM2,5"). % wynik 110
pollution:getOneValue(M4S24P, "Trzecia", {{2020,3,30},{12,0,0}}, "PM10"). % wynik 78
pollution:getOneValue(M4S24P, {20,10}, {{2020,3,29},{24,0,0}}, "PM2,5"). % wynik 130
pollution:getOneValue(M4S24P, "Czwarta", {{2020,3,30},{12,0,0}}, "PM10"). % wynik 67
%usunięcie pomiaru
M4S25P = pollution:removeValue(M4S24P, "Nowa", {{2020,3,30},{24,0,0}}, "PM10").
pollution:getOneValue(M4S25P, "Nowa", {{2020,3,30},{24,0,0}}, "PM10"). % wynik {error, no_such_measurement}
M4S26P = pollution:removeValue(M4S24P, {10,10}, {{2020,3,30},{24,0,0}}, "PM10").
pollution:getOneValue(M4S26P, "Nowa", {{2020,3,30},{24,0,0}}, "PM10"). % wynik {error, no_such_measurement}
% sprawdzenie średnich dla stacji
pollution:getStationMean(M4S24P,{50.2345, 18.3445},"PM10"). % wynik: 63.33
pollution:getStationMean(M4S24P,"Aleja Słowackiego","PM2,5"). % wynik: 127.67
pollution:getStationMean(M4S24P,{10,10},"PM10"). % wynik: 59.67
pollution:getStationMean(M4S24P,"Nowa","PM2,5"). % wynik: 127.67
pollution:getStationMean(M4S24P,{0,10},"PM10"). % wynik: 57.67
pollution:getStationMean(M4S24P,"Trzecia","PM2,5"). % wynik: 106.67
pollution:getStationMean(M4S24P,{20,10},"PM10"). % wynik: 59
pollution:getStationMean(M4S24P,"Czwarta","PM2,5"). % wynik: 112.33
% sprawdzenie średnich dla dni
pollution:getDailyMean(M4S24P,"PM10",{2020,3,29}). % wynik: 53.25
pollution:getDailyMean(M4S24P,"PM2,5",{2020,3,29}). % wynik: 117.5
pollution:getDailyMean(M4S24P,"PM10",{2020,3,30}). % wynik: 63.25
pollution:getDailyMean(M4S24P,"PM2,5",{2020,3,30}). % wynik: 119.125
% stacje najbliżej siebie
pollution:getTwoClosestStations(M4S24P). % wynik: {"Nowa","Czwarta",10}
% stacja o najniższym średnim odczycie danego typu
pollution:getMinTypeMean(M4S24P,"PM10"). % wynik: {"Trzecia",57.67}
pollution:getMinTypeMean(M4S24P,"PM2,5"). % wynik: {"Trzecia",106.67}
% błędne wywołania
% dodanie stacji o zapisanej już nazwie
pollution:addStation(M4S24P, "Aleja Słowackiego", {50.2345, 18.3445}). % wynik: {error, name_already_used}
% dodanie stacji o zajętych współrzędnych
pollution:addStation(M4S24P, "Aleja", {50.2345, 18.3445}). % wynik: {error, coords_already_used}
% dodanie pomiaru o typie i dacie która jest już zapisana w danej stacji
pollution:addValue(M4S24P, {50.2345, 18.3445}, {{2020,3,30},{12,0,0}},"PM10", 59). % wynik: {error, measurement_already_recorded}
pollution:addValue(M4S24P, "Aleja Słowackiego", {{2020,3,30},{12,0,0}}, "PM2,5", 113). % wynik: {error, measurement_already_recorded}
% dodanie pomiaru do nieistniejącej stacji
pollution:addValue(M4S24P, "Aleja", {{2020,3,30},{12,0,0}}, "PM2,5", 113). % wynik: {error, no_such_station}
% pobranie nieistniejącego pomiaru
pollution:getOneValue(M4S24P, {50.2345, 18.3445}, {{2020,3,30},{11,0,0}}, "PM2,5"). % wynik: {error, no_such_record}
pollution:getOneValue(M4S24P, {50.2345, 18.3445}, {{2020,3,30},{13,0,0}}, "PM11"). % wynik: {error, no_such_record}